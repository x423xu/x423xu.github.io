<h1 id="remote-x11-understanding">Remote X11 understanding</h1>

<p>Suppose we have a local machine (windows/linux), wanna do some deep learning training or data analysis in a remote linux server to . To show images like <code class="language-plaintext highlighter-rouge">plt.plot() &amp; plt.show()</code> in local machine we need X11 forwarding which directly renderes images in local machine.</p>
<ul>
  <li>Ok, first step we should connect to a remote linux server from our local machine. Supposing using SSH connection in MobaXterm, we need a private key in local machine and a public key in remote server. Then <code class="language-plaintext highlighter-rouge">ssh user@ip -X</code>. The <code class="language-plaintext highlighter-rouge">-X</code> here enables X11 forwarding. W.o. <code class="language-plaintext highlighter-rouge">-X</code>, any plot command like <code class="language-plaintext highlighter-rouge">plt.plot() &amp; plt.show()</code> wouldn’t be shown in local machine.</li>
  <li>Next, what we need to care about is the <code class="language-plaintext highlighter-rouge">$DISPLAY</code> variable in remote server. Using <code class="language-plaintext highlighter-rouge">echo $DISPLAY</code> in local terminal to check the value. If the <code class="language-plaintext highlighter-rouge">-X</code> args is enabled, the it will output something like <code class="language-plaintext highlighter-rouge">localhost:10.0</code>, wehre <code class="language-plaintext highlighter-rouge">localhost</code> refers to hostname of your computer (<strong>I’m not sure whether it refers to remote server or local machine</strong>). <code class="language-plaintext highlighter-rouge">10</code> display name, <code class="language-plaintext highlighter-rouge">0</code> screen name. Generally speaking, a display is composed of a screen, a keyboard and a mouse.</li>
  <li>Now use <code class="language-plaintext highlighter-rouge">xclock</code> in your terminal to test GUI.</li>
</ul>

<h1 id="configure-on-vscode">configure on vscode</h1>
<ul>
  <li>Install <code class="language-plaintext highlighter-rouge">remoet X11</code> and <code class="language-plaintext highlighter-rouge">remote X11 (ssh)</code></li>
  <li>Use <code class="language-plaintext highlighter-rouge">echo $DISPLAY</code> in vscode terminal to check display value</li>
  <li>If display value is none, add <code class="language-plaintext highlighter-rouge">export DISPLAY=localhost:10.0</code> to <code class="language-plaintext highlighter-rouge">~/.bashrc</code> and <code class="language-plaintext highlighter-rouge">source ~/.bashrc</code>.</li>
  <li>Open vscode configuration <code class="language-plaintext highlighter-rouge">ctrl+shit+p</code> and find out <code class="language-plaintext highlighter-rouge">remote X11 settings</code>, set up the display <code class="language-plaintext highlighter-rouge">10</code>, screen <code class="language-plaintext highlighter-rouge">0</code>.</li>
  <li>Using <code class="language-plaintext highlighter-rouge">xclock</code> to test</li>
</ul>

<h1 id="notice">Notice</h1>
<p>The default X11 forwarding can’t render images or videos generated by python <code class="language-plaintext highlighter-rouge">gym</code> library. Because, the X11 forwarding only supports OPENGL1.5 and <code class="language-plaintext highlighter-rouge">gym</code> requires higher version. To render <code class="language-plaintext highlighter-rouge">gym</code> images, it involves a technique named “VirtualGL”. It is complicated, I need some time to figure it out. Maybe next time.</p>
